--- uboot/include/configs/isvp_t20.h	2018-09-28 03:16:07.000000000 +0200
+++ uboot_/include/configs/isvp_t20.h	2018-09-30 18:21:15.803164090 +0200
@@ -112,6 +112,8 @@
 /*#define CONFIG_DDR_PHY_DQ_ODT*/
 /*#define CONFIG_DDR_PHY_DQS_ODT*/
 
+#define	CONFIG_SYS_HUSH_PARSER		1
+
 /**
  * Boot arguments definitions.
  */
@@ -124,7 +126,7 @@
 #ifdef CONFIG_SPL_MMC_SUPPORT
 	#define CONFIG_BOOTARGS BOOTARGS_COMMON " init=/linuxrc root=/dev/mmcblk0p2 rw rootdelay=1"
 #elif CONFIG_SFC_NOR
-	#define CONFIG_BOOTARGS BOOTARGS_COMMON " init=/linuxrc rootfstype=squashfs root=/dev/mtdblock2 rw mtdparts=jz_sfc:256k(boot),2560k(kernel),2048k(root),-(appfs)"
+	#define CONFIG_BOOTARGS BOOTARGS_COMMON " init=/linuxrc rootfstype=squashfs root=/dev/mtdblock2 rw mtdparts=jz_sfc:256k(boot),2048k(kernel),3392k(root),640k(driver),4736k(appfs),2048k(backupk),640k(backupd),2048k(backupa),256k(config),256k(para),-(flag)"
 #endif
 
 /**
@@ -137,7 +139,22 @@
 #endif
 
 #ifdef CONFIG_SFC_NOR
-	#define CONFIG_BOOTCOMMAND "sf probe;sf read 0x80600000 0x40000 0x280000; bootm 0x80600000"
+	#define CONFIG_BOOTCOMMAND \
+	"if mmc rescan; then " \
+		"echo MMC Found; " \
+		"echo Trying to find EXT3 uEnv.txt; " \
+		"if ext4load mmc 0:1 0x80600000 uEnv.txt; then " \
+			"echo uEnv found - Booting from microsd ...; " \
+			"gpio clear 39;"\
+			"env import -t 0x80600000 ${filesize};" \
+			"boot;" \
+		"fi;" \
+        "else " \
+		"echo MMC not found...; " \
+	"fi;" \
+	"echo Booting from Flash...; " \
+	"gpio clear 38;"\
+	"sf probe;sf read 0x80600000 0x40000 0x280000; bootm 0x80600000;"
 #endif /* CONFIG_SFC_NOR */
 
 /**
@@ -266,7 +283,10 @@
 /* #define CONFIG_USB_STORAGE */
 #endif
 
-/*#define CONFIG_AUTO_UPDATE			1*/
+#define CONFIG_CMD_EXT4
+#define CONFIG_CMD_JFFS2
+
+#define CONFIG_AUTO_UPDATE			1
 #ifdef CONFIG_AUTO_UPDATE
 	#define CONFIG_CMD_SDUPDATE		1
 #endif
